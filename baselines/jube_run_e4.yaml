name: analysis_example
outpath: example4_run
comment: analysing with JUBE
 
 
parameterset:
  name: app_parameters
  parameter:
    - name: flop
      type: int
      _: "8000000,700000,5000000,5000"
    - name: nanoseconds
      mode: python
      type: float
      _: "400+$flop*0.0005"
 
patternset:
  name: performance_patterns
  pattern:
    - {name: time_pat, type: int, _: "Time: $jube_pat_fp ns"}
    - {name: gflop_pat, type: float, _: "Gigaflops:\\s+$jube_pat_fp"}
 
analyser:
  name: analyse_performance
  use: performance_patterns
  analyse:
    step: print_performance
    file: stdout
 
result:
  use: analyse_performance
  table:
    name: result
    style: pretty
    sort: time_pat
    column:
      - {title: "time in ns", _: time_pat}
      - {title: "Total FLOPS", _: flop}
      - {title: "GFLOP/s", _: gflop_pat}
 
step:
  name: print_performance
  use: app_parameters
  do: |
    python -c "print(\"Gigaflops: \",($flop/$nanoseconds))"
    echo "Time: $nanoseconds ns"